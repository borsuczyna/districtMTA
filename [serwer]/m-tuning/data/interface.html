<style>
    #tuning {
        position: fixed;
        left: 0%;
        top: 0%;
        width: 100vw;
        height: 100vh;
        opacity: 0;
        transform: scale(0.9);
        transition: opacity 0.2s, transform 0.2s;
    }

    #tuning #finish {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        display: flex;
        gap: 0.5rem;
    }

    #tuning #finish .button {
        background-color: rgba(54, 54, 54, 0.5);
        color: white;
        font-weight: 600;
        padding: 0.7rem;
        border-radius: 0.3rem;
        cursor: pointer;
    }

    #tuning #options {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 0.5rem;
        max-width: 50vw;
        overflow: auto;
    }

    #tuning #options .option {
        padding: 0.7rem;
        background-color: rgba(34, 34, 34, 0.5);
        color: rgba(255, 255, 255, 0.899);
        border: 0.125rem solid rgba(77, 77, 77, 0.7);
        border-radius: 0.5rem;
        cursor: pointer;
        margin-bottom: 0.5rem;
        min-width: 1.5rem;
        width: 1.5rem;
        height: 1.5rem;
    }

    #tuning #options .option.active {
        background-color: white;
    }

    #tuning #options svg {
        width: 1.5rem;
        height: 1.5rem;
        color: white;
        cursor: pointer;
    }

    #tuning #options .option.active svg {
        color: black;
    }

    /* custom scroll for options */
    #tuning .scroll::-webkit-scrollbar {
        width: 0.3rem;
        height: 0.4rem;
    }

    #tuning .scroll::-webkit-scrollbar-thumb {
        background-color: rgba(255, 255, 255, 0.5);
        border-radius: 0.5rem;
    }

    #tuning .scroll::-webkit-scrollbar-thumb:hover {
        background-color: rgba(255, 255, 255, 0.7);
    }

    #tuning .scroll::-webkit-scrollbar-track {
        background-color: rgba(255, 255, 255, 0.2);
        border-radius: 0.5rem;
    }

    #tuning #items {
        position: fixed;
        left: 2rem;
        top: 50%;
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
        transform: translateY(-50%);
    }

    #tuning .items-list {
        max-height: 40vh;
        height: 40vh;
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
        overflow: auto;
        padding-right: 0.3rem;
    }

    #tuning #items .item {
        padding: 1rem;
        background-color: rgba(56, 56, 56, 0.4);
        color: rgba(255, 255, 255, 0.899);
        border: 0.1rem solid rgba(86, 86, 86, 0.4);
        border-radius: 0.5rem;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.5rem;
        width: 20rem;
    }

    #tuning #items .item.active {
        background-color: white;
        color: black;
        font-weight: bold;
        cursor: default;
    }

    #tuning .item .buy {
        display: none;
    }

    #tuning .buy {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.3rem;
        background-color: rgba(56, 56, 56, 0.4);
        border: 0.1rem solid rgba(86, 86, 86, 0.4);
        border-radius: 0.3rem;
        cursor: pointer;
    }

    #tuning .buy svg {
        width: 1.5rem;
        height: 1.5rem;
    }

    #tuning .item.active .buy {
        display: flex;
        background-color: rgba(0, 0, 0, 0.6);
        border: 0.1rem solid rgba(0, 0, 0, 0.4);
    }

    #tuning .item.active .buy svg {
        color: white;
    }

    #tuning #items .title {
        text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.5);
        font-size: 1.5rem;
        font-weight: bold;
        color: white;
    }

    #tuning .checkmark {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #tuning .checkmark svg {
        width: 1rem;
        height: 1rem;
        color: white;
    }

    #tuning .item.active .checkmark svg {
        color: black;
    }

    #tuning #confirmation {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        padding: 1rem;
        background-color: rgba(56, 56, 56, 0.4);
        color: white;
        border: 0.1rem solid rgba(86, 86, 86, 0.4);
        border-radius: 0.5rem;
        cursor: default;
        display: none;
    }

    #tuning #confirmation .buttons {
        display: flex;
        gap: 0.5rem;
    }

    #tuning #confirmation.active {
        display: flex;
    }

    #tuning.active {
        opacity: 1;
        transform: scale(1);
    }
</style>

<div id="options" class="scroll"></div>

<div id="items">
    <div class="title"></div>
    <div class="items-list scroll"></div>
</div>

<div id="confirmation">
    <div id="message">Czy na pewno chcesz kupić ten tuning?</div>
    <div class="buttons">
        <div class="flat-button flat-button-small" id="confirm">Tak</div>
        <div class="flat-button flat-button-small" id="cancel">Nie</div>
    </div>
</div>

<div id="finish">
    <div class="button" onclick="tuning_exitGarage()">Opuść warsztat</div>
</div>

<script>
    window.tuning_icons = {
        'hood': `<svg viewBox="0 0 140 140" fill="none">
            <path d="M17.6275 52.1076C20.3965 54.7663 24.1043 58.4571 27.4091 61.8383C26.259 62.0338 25.0439 62.2368 23.8072 62.4435C20.2494 63.0381 16.5128 63.6626 13.6291 64.2208C10.1519 64.8737 7.33435 66.4938 5.39635 68.9642C3.4643 71.427 2.5 74.6145 2.5 78.2485V84.0631C2.5 91.5703 9.2045 96.1351 15.231 96.1351H16.0609C18.0837 102.698 24.3243 107.5 31.483 107.5C38.7737 107.5 44.8978 102.691 46.9061 96.1351H94.4138C96.4365 102.698 102.677 107.5 109.836 107.5C116.994 107.5 123.235 102.698 125.258 96.1351H125.295C128.907 96.1351 131.996 94.8349 134.175 92.4827C136.343 90.1417 137.497 86.8803 137.497 83.1381V70.8637C137.639 64.0292 131.888 58.3797 124.766 58.3797H124.762H124.757H124.752H124.748H124.743H124.739H124.734H124.729H124.725H124.72H124.715H124.711H124.706H124.701H124.697H124.692H124.687H124.683H124.678H124.674H124.669H124.664H124.66H124.655H124.65H124.646H124.641H124.636H124.632H124.627H124.622H124.618H124.613H124.609H124.604H124.599H124.595H124.59H124.585H124.581H124.576H124.571H124.567H124.562H124.557H124.553H124.548H124.544H124.539H124.534H124.53H124.525H124.52H124.516H124.511H124.506H124.502H124.497H124.493H124.488H124.483H124.479H124.474H124.469H124.465H124.46H124.455H124.451H124.446H124.442H124.437H124.432H124.428H124.423H124.418H124.414H124.409H124.405H124.4H124.395H124.391H124.386H124.381H124.377H124.372H124.368H124.363H124.358H124.354H124.349H124.344H124.34H124.335H124.331H124.326H124.321H124.317H124.312H124.308H124.303H124.298H124.294H124.289H124.284H124.28H124.275H124.271H124.266H124.261H124.257H124.252H124.248H124.243H124.238H124.234H124.229H124.225H124.22H124.215H124.211H124.206H124.202H124.197H124.192H124.188H124.183H124.179H124.174H124.169H124.165H124.16H124.156H124.151H124.146H124.142H124.137H124.133H124.128H124.123H124.119H124.114H124.11H124.105H124.1H124.096H124.091H124.087H124.082H124.078H124.073H124.068H124.064H124.059H124.055H124.05H124.046H124.041H124.036H124.032H124.027H124.023H124.018H124.014H124.009H124.004H124H123.995H123.991H123.986H123.982H123.977H123.972H123.968H123.963H123.959H123.954H123.95H123.945H123.941H123.936H123.931H123.927H123.922H123.918H123.913H123.909H123.904H123.9H123.895H123.891H123.886H123.882H123.877H123.872H123.868H123.863H123.859H123.854H123.85H123.845H123.841H123.836H123.832H123.827H123.823H123.818H123.814H123.809H123.805H123.8H123.796H123.791H123.787H123.782H123.778H123.773H123.768H123.764H123.759H123.755H123.75H123.746H123.741H123.737H123.732H123.728H123.723H123.719H123.715H123.71H123.706H123.701H123.697H123.692H123.688H123.683H123.679H123.674H123.67H123.665H123.661H123.656H123.652H123.647H123.643H123.638H123.634H123.629H123.625H123.621H123.616H123.612H123.607H123.603H123.598H123.594H123.589H123.585H123.58H123.576H123.572H123.567H123.563H123.558H123.554H123.549H123.545H123.54H123.536H123.532H123.527H123.523H123.518H123.514H123.509H123.505H123.501H123.496H123.492H123.487H123.483H123.479H123.474H123.47H123.465H123.461H123.457H123.452H123.448H123.443H123.439H123.435H123.43H123.426H123.421H123.417H123.413H123.408H123.404H123.399H123.395H123.391H123.386H123.382H123.378H123.373H123.369H123.364H123.36H123.356H123.351H123.347H123.343H123.338H123.334H123.33H123.325H123.321H123.317H123.312H123.308H123.304H123.299H123.295H123.291H123.286H123.282H123.278H123.273H123.269H123.265H123.26H123.256H123.252H123.247H123.243H123.239H123.234H123.23H123.226H123.221H123.217H123.213H123.209H123.204H123.2H123.196H123.191H123.187H123.183H123.179H123.174H123.17H123.166H123.161H123.157H123.153H123.149H123.144H123.14H123.136H123.132H123.127H123.123H123.119H123.115H123.11H123.106H123.102H123.098H123.093H123.089H123.085H123.081H123.076H123.072H123.068H123.064H123.059H123.055H123.051H123.047H123.043H123.038H123.034H123.03H123.026H123.022H123.017H123.013H123.009H123.005H123.001H122.996H122.992H122.988H122.984H122.98H122.976H122.971H122.967H122.963H122.959H122.955H122.951H122.946H122.942H122.938H122.934H122.93H122.926H122.921H122.917H122.913H122.909H122.905H122.901H122.897H122.893H122.888H122.884H122.88H122.876H122.872H122.868H122.864H122.86H122.855H122.851H122.847H122.843H122.839H122.835H122.831H122.827H122.823H122.819H122.815H122.81H122.806H122.802H122.798H122.794H122.79H122.786H122.782H122.778H122.774H122.77H122.766H122.762H122.758H122.754H122.75H122.746H122.742H122.738H122.734H122.729H122.725H122.721H122.717H122.713H122.709H122.705H122.701H122.697H122.693H122.689H122.685H122.681H122.677H122.673H122.669H122.665H122.661H122.658H122.654H122.65H122.646H122.642H122.638H122.634H122.63H122.626H122.622H122.618H122.614H122.61H122.606H122.602H122.598H122.594H122.59H122.586H122.583H122.579H122.575H122.571H122.567H122.563H122.559H122.555H122.551H122.547H122.544H122.54H122.536H122.532H122.528H122.524H122.52C121.04 58.3797 120.182 58.3774 119.35 58.2752C118.551 58.177 117.734 57.9798 116.405 57.5373C113.426 56.4623 112.162 55.3272 109.707 52.8724C108.572 51.7365 105.967 48.8755 102.287 44.2741L102.283 44.2695C98.631 39.7404 93.2641 37.5 86.1846 37.5H64.2511C60.9347 37.5 58.1017 37.9837 55.5764 39.1185C53.0498 40.2538 50.929 41.9968 48.9697 44.3723C47.7188 45.8031 46.5663 47.2588 45.441 48.6802C44.8909 49.3751 44.3473 50.0618 43.8018 50.7334C43.1931 51.4642 42.6122 52.1945 42.0338 52.9217C41.9738 52.997 41.914 53.0723 41.8541 53.1476C41.2105 53.9562 40.562 54.7668 39.8511 55.6071L39.8431 55.6166L39.8353 55.6262C39.0265 56.6148 38.1481 57.4753 37.1933 58.2583L36.0107 57.0016L36.0041 56.9947L35.9975 56.9878C32.2881 53.1453 27.5201 48.3764 24.2013 45.1898C21.4607 42.5224 18.2525 41.0568 14.8427 40.8882C11.4433 40.72 7.98414 41.847 4.72887 44.1119L4.71594 44.1209L4.70321 44.1302C2.62155 45.6443 2.00567 48.6861 3.57961 50.8506C5.09216 52.9307 8.12971 53.5477 10.2938 51.9786C12.3652 50.5001 13.8472 50.3094 14.8749 50.4882C15.9518 50.6755 16.8391 51.3196 17.6056 52.0862L17.6165 52.097L17.6275 52.1076ZM127.891 84.7019C127.762 85.3096 127.553 85.7145 127.327 85.9778C126.993 86.3676 126.44 86.6598 125.427 86.6598H121.331C118.653 86.6598 116.528 88.7852 116.528 91.4635C116.528 95.1284 113.632 98.0247 109.968 98.0247C106.304 98.0247 103.408 95.1284 103.408 91.4635C103.408 88.7852 101.283 86.6598 98.6048 86.6598H42.8461C40.1676 86.6598 38.0429 88.7852 38.0429 91.4635C38.0429 95.1284 35.1467 98.0247 31.483 98.0247C27.8192 98.0247 24.923 95.1284 24.923 91.4635C24.923 88.7852 22.7983 86.6598 20.1198 86.6598H15.231C14.5349 86.6598 13.6925 86.4172 13.0579 85.9556C12.4594 85.5203 12.1065 84.9479 12.1065 84.1953V78.3807C12.1065 76.3254 12.6294 75.3266 13.1405 74.7958C13.6776 74.2379 14.4311 73.9532 15.3754 73.7761L15.3842 73.7744L15.3931 73.7726C18.4308 73.165 22.4845 72.4793 26.3134 71.8315C27.4468 71.6398 28.5605 71.4514 29.6224 71.2694L29.6322 71.2677L29.6421 71.2658L33.2 70.6069C38.2377 69.7399 43.4243 66.4742 47.1773 61.7559C48.6453 60.0197 49.9759 58.2898 51.1637 56.7063C52.0179 55.6546 52.8395 54.6356 53.6592 53.6191L53.6596 53.6186C54.4843 52.5959 55.3071 51.5755 56.1624 50.5225C57.3207 49.1211 58.3282 48.3147 59.4597 47.8278C60.612 47.332 62.0311 47.1075 64.119 47.1075H86.0525C88.9314 47.1075 90.8168 47.5772 92.0898 48.1722C93.3436 48.7583 94.0905 49.5063 94.6411 50.2222L94.6516 50.2358L94.6624 50.2492C97.9601 54.3391 100.914 57.8359 102.697 59.6188C105.525 62.4476 107.959 64.7456 113.022 66.5751C115.069 67.3257 116.605 67.7262 118.092 67.9098C119.557 68.0907 120.917 68.0523 122.55 67.9872H122.551H122.555H122.559H122.563H122.567H122.571H122.574H122.578H122.582H122.586H122.59H122.594H122.598H122.602H122.605H122.609H122.613H122.617H122.621H122.625H122.629H122.633H122.636H122.64H122.644H122.648H122.652H122.656H122.66H122.663H122.667H122.671H122.675H122.679H122.683H122.687H122.691H122.695H122.698H122.702H122.706H122.71H122.714H122.718H122.722H122.726H122.729H122.733H122.737H122.741H122.745H122.749H122.753H122.757H122.76H122.764H122.768H122.772H122.776H122.78H122.784H122.788H122.792H122.795H122.799H122.803H122.807H122.811H122.815H122.819H122.823H122.827H122.83H122.834H122.838H122.842H122.846H122.85H122.854H122.858H122.862H122.865H122.869H122.873H122.877H122.881H122.885H122.889H122.893H122.897H122.901H122.904H122.908H122.912H122.916H122.92H122.924H122.928H122.932H122.936H122.94H122.943H122.947H122.951H122.955H122.959H122.963H122.967H122.971H122.975H122.979H122.983H122.986H122.99H122.994H122.998H123.002H123.006H123.01H123.014H123.018H123.022H123.026H123.03H123.033H123.037H123.041H123.045H123.049H123.053H123.057H123.061H123.065H123.069H123.073H123.077H123.081H123.085H123.088H123.092H123.096H123.1H123.104H123.108H123.112H123.116H123.12H123.124H123.128H123.132H123.136H123.14H123.144H123.148H123.152H123.155H123.159H123.163H123.167H123.171H123.175H123.179H123.183H123.187H123.191H123.195H123.199H123.203H123.207H123.211H123.215H123.219H123.223H123.227H123.231H123.235H123.239H123.243H123.247H123.251H123.255H123.258H123.262H123.266H123.27H123.274H123.278H123.282H123.286H123.29H123.294H123.298H123.302H123.306H123.31H123.314H123.318H123.322H123.326H123.33H123.334H123.338H123.342H123.346H123.35H123.354H123.358H123.362H123.366H123.37H123.374H123.378H123.382H123.386H123.39H123.394H123.398H123.402H123.406H123.41H123.414H123.419H123.423H123.427H123.431H123.435H123.439H123.443H123.447H123.451H123.455H123.459H123.463H123.467H123.471H123.475H123.479H123.483H123.487H123.491H123.495H123.499H123.503H123.507H123.511H123.516H123.52H123.524H123.528H123.532H123.536H123.54H123.544H123.548H123.552H123.556H123.56H123.564H123.568H123.573H123.577H123.581H123.585H123.589H123.593H123.597H123.601H123.605H123.609H123.613H123.618H123.622H123.626H123.63H123.634H123.638H123.642H123.646H123.65H123.654H123.659H123.663H123.667H123.671H123.675H123.679H123.683H123.687H123.692H123.696H123.7H123.704H123.708H123.712H123.716H123.721H123.725H123.729H123.733H123.737H123.741H123.745H123.75H123.754H123.758H123.762H123.766H123.77H123.775H123.779H123.783H123.787H123.791H123.795H123.8H123.804H123.808H123.812H123.816H123.82H123.825H123.829H123.833H123.837H123.841H123.846H123.85H123.854H123.858H123.862H123.867H123.871H123.875H123.879H123.883H123.888H123.892H123.896H123.9H123.905H123.909H123.913H123.917H123.922H123.926H123.93H123.934H123.938H123.943H123.947H123.951H123.955H123.96H123.964H123.968H123.972H123.977H123.981H123.985H123.99H123.994H123.998H124.002H124.007H124.011H124.015H124.019H124.024H124.028H124.032H124.037H124.041H124.045H124.05H124.054H124.058H124.062H124.067H124.071H124.075H124.08H124.084H124.088H124.093H124.097H124.101H124.106H124.11H124.114H124.119H124.123H124.127H124.132H124.136H124.14H124.145H124.149H124.153H124.158H124.162H124.166H124.171H124.175H124.18H124.184H124.188H124.193H124.197H124.201H124.206H124.21H124.215H124.219H124.223H124.228H124.232H124.237H124.241H124.245H124.25H124.254H124.259H124.263H124.267H124.272H124.276H124.281H124.285H124.29H124.294H124.298H124.303H124.307H124.312H124.316H124.321H124.325H124.33H124.334H124.338H124.343H124.347H124.352H124.356H124.361H124.365H124.37H124.374H124.379H124.383H124.388H124.392H124.397H124.401H124.406H124.41H124.415H124.419H124.424H124.428H124.433H124.437H124.442H124.446H124.451H124.455H124.46H124.464H124.469H124.474H124.478H124.483H124.487H124.492H124.496H124.501H124.505H124.51H124.515H124.519H124.524H124.528H124.533H124.537H124.542H124.547H124.551H124.556H124.56H124.565H124.57H124.574H124.579H124.583H124.588H124.593H124.597H124.602H124.606H124.611H124.616H124.62H124.625H124.63H124.634C126.282 67.9872 127.891 69.2459 127.891 70.9803V83.2702V84.7019Z" fill="currentColor" stroke="currentColor" stroke-width="3" />
        </svg>`,
        'vent': `<svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M105.797 91.5L132.947 64.3495C130.413 56.5663 118.286 41 104.711 41C88.2031 41 53.6676 41 38.4633 41C37.1963 41.181 33.5762 42.629 29.2321 46.9731C26.2413 49.9639 22.3926 53.8127 19.4579 56.7473M105.797 91.5H8.05469C8.05469 72.8204 13.4848 62.7204 16.1998 60.0054C16.9893 59.216 18.13 58.0752 19.4579 56.7473M105.797 91.5C104.892 79.9158 100.367 56.7473 89.5063 56.7473C78.6461 56.7473 38.2823 56.7473 19.4579 56.7473" stroke="currentColor" stroke-width="11" />
            <mask id="mask0_936_73" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="15" y="64" width="82" height="19">
                <path d="M15.7656 81.0681H49.7821M63.4902 81.0681H96.9989M95.9835 75.8957H63.4902M63.4902 70.7232H93.9527M90.3987 65.5508H63.4902M49.7821 75.8957H16.781M18.8119 70.7232H49.7821M49.7821 65.5508H22.3658" stroke="currentColor" stroke-width="3" />
            </mask>
            <g mask="url(#mask0_936_73)">
                <path d="M50.2863 64.1406V82.9495H17.793C17.793 70.5356 23.8855 65.2378 26.9317 64.1406H50.2863Z" fill="currentColor" />
                <path d="M63.4867 64.1406V82.9495H95.4723C95.4723 71.6642 89.3798 65.708 86.3335 64.1406H63.4867Z" fill="currentColor" />
            </g>
            <path d="M56.9261 68.1504L52.582 75.7525H61.8132L56.9261 68.1504Z" fill="currentColor" />
        </svg>`,
        'spoiler': `<svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.4571 107.928L1.70064 75.869C1.19673 74.694 2.10347 70.9678 2.37203 68.8194C2.70772 66.1338 3.88265 63.4482 5.39328 63.4482C6.60179 63.4482 7.40709 64.1196 7.911 64.9589L24.6957 93.8287C25.1989 94.6679 25.535 95.8764 25.535 96.6821C25.535 97.4877 25.3668 98.3605 25.0314 98.8641L19.6603 106.753C19.1568 107.424 17.814 108.767 16.4712 108.767C15.1284 108.767 14.5689 108.208 14.4571 107.928Z" fill="currentColor" stroke="currentColor" />
            <path d="M127.752 58.7491C127.752 60.2261 125.85 61.2668 124.899 61.6025L105.932 67.181L109.289 80.9048H110.967C111.247 80.9048 112.075 81.0391 113.149 81.5762C114.224 82.1133 115.947 83.0309 116.674 83.4225C117.066 83.6463 117.849 84.2617 117.849 84.9331C117.849 85.6045 117.066 85.9962 116.674 86.1081L102.239 90.64C102.072 90.6959 101.602 90.8078 101.064 90.8078C100.527 90.8078 99.386 90.3602 98.8824 90.1364L93.0078 86.6116C92.8959 86.4997 92.6721 86.1752 92.6721 85.7724C92.6721 85.3695 93.5672 84.9331 94.0148 84.7653L98.0432 83.7582L94.8541 70.4392L59.6061 80.8062L63.2987 95.9714H64.9772C65.257 95.9714 66.085 96.1057 67.1592 96.6428C68.2335 97.1799 69.9567 98.0975 70.684 98.4891C71.0757 98.7129 71.859 99.3284 71.859 99.9998C71.859 100.671 71.0757 101.063 70.684 101.175L56.2491 105.035C56.0813 105.091 55.6113 105.203 55.0742 105.203C54.5371 105.203 53.3957 104.755 52.8922 104.532L47.0175 101.007C46.9056 100.895 46.6818 100.57 46.6818 100.168C46.6818 99.7648 47.577 99.3284 48.0246 99.1605L52.0529 98.1534L48.2399 84.1492L25.0295 90.9758L11.7695 67.9805C44.3879 60.0358 110.195 44.0121 112.478 43.475C114.761 42.9378 116.003 43.5869 116.339 43.9785L125.067 54.5529C125.962 55.3362 127.752 57.272 127.752 58.7491Z" fill="currentColor" />
            <path d="M130.27 66.3021L127.081 62.4416C127.081 62.4416 127.417 62.2737 128.424 61.4345C129.794 60.2922 129.599 59.756 129.599 58.7491C129.599 57.9435 129.151 57.0706 128.927 56.7348C126.13 53.21 120.098 45.724 118.353 43.9785C116.171 41.7966 116.339 41.9642 115.667 41.9642C114.996 41.9642 113.485 42.2999 113.989 37.6001C114.492 32.9004 115.835 31.5576 116.842 31.5576C117.648 31.5576 118.073 31.7814 118.185 31.8933L137.823 54.8884C138.215 55.392 138.998 56.5669 138.998 57.2383C138.998 57.9097 138.774 58.5252 138.662 58.7491L132.955 65.9664C132.62 66.1902 131.814 66.6378 131.277 66.6378C130.74 66.6378 130.382 66.414 130.27 66.3021Z" fill="currentColor" />
        </svg>`,
        'sideskirt': `<svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.4 83.0755C6.4 79.1811 4.8 74.4214 4 72.5283L135.2 49C135.467 49.2704 136 50.1358 136 51.434C136 52.7321 135.467 54.1384 135.2 54.6792L4 92C4.8 90.6478 6.4 86.9698 6.4 83.0755Z" fill="currentColor" />
        </svg>`,
        'lights': `<svg viewBox="0 0 140 140" fill="none">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M53.2136 47.9218C53.6735 45.3144 54.2077 43.0505 54.7807 41.0618C55.6046 38.2023 56.5204 35.8636 57.4682 33.8176C59.5976 30.2707 62.4835 27.9167 66.081 26.5663C69.5694 25.2567 73.4577 25 77.2927 25C85.5496 25 100.589 27.8436 113.694 34.4293C126.682 40.9566 139.572 52.1616 139.572 69.5878H139.963C139.963 87.0288 126.999 98.2308 113.958 104.751C100.792 111.334 85.6837 114.176 77.3939 114.176C73.5411 114.176 69.641 113.919 66.1434 112.613C63.3578 111.572 60.9944 109.933 59.0762 107.606C56.6212 102.591 53.8514 95.0984 52.4834 84.0115C52.1847 79.8344 52.0204 75.0704 51.9595 69.6496L51.9588 69.588L51.9595 69.5263C52.0576 60.7458 52.4258 53.69 53.1946 48.0599C53.2009 48.0138 53.2072 47.9678 53.2136 47.9218ZM44.7121 100.83C46.003 105.201 47.4676 108.826 48.9015 111.83H0V100.83H44.7121ZM41.2081 82.0682C41.5889 86.0875 42.1384 89.7434 42.8035 93.0682H0V82.0682H41.2081ZM40.6927 64.0878C40.6477 65.7255 40.6244 67.4273 40.6244 69.1968C40.6244 71.2319 40.6647 73.1947 40.7411 75.0878H0V64.0878H40.6927ZM48.3798 27.3453C46.9596 30.1722 45.4792 33.6136 44.2107 38.0162C44.1793 38.1253 44.1479 38.235 44.1168 38.3453H0V27.3453H48.3798ZM42.3639 46.1074C41.7936 49.3608 41.3392 53 41.038 57.1074H0V46.1074H42.3639ZM64.099 89.6237C63.42 84.6768 63.0573 78.1703 62.9595 69.5877C63.0568 61.0046 63.4177 54.4968 64.0935 49.5483C64.7783 44.5336 65.7368 41.531 66.7692 39.7027C67.6782 38.093 68.6596 37.3478 69.9469 36.8645C71.5019 36.2808 73.7388 36 77.2927 36C83.8138 36 97.1637 38.4332 108.754 44.258C120.461 50.1411 128.572 58.4799 128.572 69.5878H128.963C128.963 80.681 120.818 89.0228 109.039 94.9127C97.3833 100.74 83.9575 103.176 77.3939 103.176C73.8201 103.176 71.5638 102.895 69.9922 102.308C68.6875 101.821 67.699 101.07 66.7864 99.4625C65.7498 97.6362 64.787 94.6364 64.099 89.6237Z" fill="currentColor" />
        </svg>`,
        'roof': `<svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7 83H13.0573C16.1777 83 24.4009 81.0085 32.3304 73.0426C42.2423 63.0851 46.0969 57 56.5595 57C64.9295 57 69.9589 57 78.0352 57C78.4024 57 81.3392 57 90.1498 57C101.163 57 109.974 83 123.189 83C132 83 132 83 132 83" stroke="currentColor" stroke-width="14" stroke-linecap="round" />
        </svg>`,
        'nitro': `<svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M38.875 113.357V57.8848" stroke="currentColor" stroke-width="46" stroke-linecap="round" />
            <path d="M32.5 21.6416H39.195M45.8899 21.6416H39.195M39.195 21.6416V36.9444" stroke="currentColor" stroke-width="11" stroke-linecap="square" />
            <path d="M100.984 113.357V57.8848" stroke="currentColor" stroke-width="46" stroke-linecap="round" />
            <path d="M94.6094 21.6416H101.304M107.999 21.6416H101.304M101.304 21.6416V36.9444" stroke="currentColor" stroke-width="11" stroke-linecap="square" />
            <path d="M46.3398 66.8115H92.2481" stroke="currentColor" stroke-width="13" stroke-linecap="square" />
            <path d="M45.7031 96.7793H91.6114" stroke="currentColor" stroke-width="13" stroke-linecap="square" />
        </svg>`,
        'wheel': `<svg width="134" height="134" viewBox="0 0 134 134" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M66.9988 22.333C42.37 22.333 22.332 42.371 22.332 66.9998C22.332 91.6285 42.37 111.667 66.9988 111.667C91.6276 111.667 111.666 91.6285 111.666 66.9998C111.666 42.371 91.6276 22.333 66.9988 22.333ZM89.8502 39.0176C90.3519 38.4588 91.0607 38.1288 91.8131 38.0989C92.4619 38.0254 93.2963 38.3416 93.8414 38.8595C99.632 44.342 103.569 51.3212 105.215 59.0419C105.477 60.2741 104.883 61.5283 103.765 62.1061C101.033 63.5184 97.7889 64.2025 94.681 64.2025C90.6299 64.2025 86.7913 63.041 84.5667 60.8164C79.834 56.0866 81.8076 47.938 89.8502 39.0176ZM44.1476 95.418C43.6459 95.9767 42.9371 96.3094 42.1847 96.3395C42.152 96.3421 42.1138 96.3421 42.0756 96.3421C41.3613 96.3421 40.6743 96.0694 40.1564 95.5787C34.3659 90.0962 30.4291 83.1169 28.7826 75.3936C28.5209 74.1614 29.1153 72.9073 30.2331 72.3294C36.5253 69.0825 45.4999 69.6876 49.4312 73.6189C54.1583 78.3492 52.1845 86.4978 44.1476 95.418ZM49.4309 60.8167C47.2063 63.0413 43.3677 64.2028 39.3165 64.2028C36.2086 64.2028 32.9699 63.5184 30.2328 62.1064C29.115 61.5285 28.5206 60.2744 28.7824 59.0422C30.4291 51.3215 34.3656 44.3422 40.1561 38.8598C40.7013 38.3418 41.5029 38.0202 42.1844 38.0992C42.9369 38.1293 43.6456 38.4591 44.1473 39.0178C52.19 47.938 54.1636 56.0866 49.4309 60.8167ZM78.896 104.227C75.0301 105.459 71.0279 106.083 66.9988 106.083C62.9696 106.083 58.9672 105.459 55.1016 104.227C53.8746 103.834 53.0733 102.656 53.1604 101.372C53.8584 91.326 59.807 83.7498 66.9988 83.7498C74.1906 83.7498 80.1392 91.326 80.8372 101.372C80.9243 102.656 80.1229 103.834 78.896 104.227ZM55.832 66.9998C55.832 60.8413 60.8429 55.833 66.9988 55.833C73.1547 55.833 78.1655 60.841 78.1655 66.9998C78.1655 73.1585 73.1547 78.1665 66.9988 78.1665C60.8429 78.1665 55.832 73.1583 55.832 66.9998ZM80.8372 32.8481C80.1392 42.8915 74.1906 50.4678 66.9988 50.4678C59.807 50.4678 53.8584 42.8915 53.1604 32.8481C53.0733 31.5641 53.8691 30.3864 55.0961 29.9964C62.8278 27.5263 71.1701 27.5263 78.9015 29.9964C80.1284 30.3864 80.9243 31.5641 80.8372 32.8481ZM105.215 74.9495C103.568 82.6728 99.632 89.652 93.8414 95.1345C93.3235 95.6252 92.6365 95.898 91.9223 95.898C91.8841 95.898 91.8458 95.898 91.8131 95.8953C91.0607 95.8652 90.3519 95.5355 89.8502 94.9767C81.8079 86.0565 79.834 77.9051 84.5667 73.175C88.4979 69.2411 97.4673 68.6439 103.765 71.8855C104.883 72.4631 105.477 73.7173 105.215 74.9495Z" fill="currentColor" />
            <path d="M67 0C30.0539 0 0 30.0568 0 67C0 103.943 30.0539 134 67 134C103.946 134 134 103.943 134 67C134 30.0568 103.946 0 67 0ZM67 117.25C39.2905 117.25 16.75 94.7069 16.75 67C16.75 39.2931 39.2905 16.75 67 16.75C94.7095 16.75 117.25 39.2931 117.25 67C117.25 94.7069 94.7095 117.25 67 117.25Z" fill="currentColor" />
        </svg>`,
        'exhaust': `<svg width="134" height="134" viewBox="0 0 134 134" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M113.874 78.5213C112.727 82.5845 110.716 85.0243 109.22 85.0243C107.009 85.0243 103.667 79.6972 103.667 71.668C103.667 63.7735 106.897 58.4954 109.107 58.3203V58.2567H119.948C119.81 57.9772 119.667 57.7021 119.52 57.4339C117.301 53.4071 113.748 50.2599 109.086 50.2599C108.577 50.2599 46.448 50.2526 46.129 50.273C42.1948 50.3826 38.5478 52.9807 36.0892 57.4417C35.6202 58.2926 35.2007 59.2036 34.8269 60.1594H27.0089V52.8211C27.0089 46.2566 21.6685 40.916 15.1041 40.916H6.03916C2.70382 40.9163 0 43.6201 0 46.9554C0 50.2905 2.70382 52.9946 6.03916 52.9946H14.9311V60.3329C14.9311 66.8974 20.2714 72.2377 26.8361 72.2377H32.7918C32.8716 77.3423 34.0334 82.1791 36.0897 85.9104C38.3813 90.0686 42.1393 93.2658 46.7699 93.0766C47.0133 93.0766 108.797 93.0766 109.22 93.0766C113.253 93.0766 117.007 90.4617 119.52 85.9026C120.703 83.7552 121.59 81.2411 122.146 78.5216H113.874V78.5213Z" fill="currentColor" />
            <path d="M131.386 62.416H113.026C111.581 62.416 110.41 65.1311 110.41 68.4798C110.41 71.8287 111.581 74.5435 113.026 74.5435H131.386C132.831 74.5435 134.001 71.8285 134.001 68.4798C134.001 65.1311 132.831 62.416 131.386 62.416Z" fill="currentColor" />
        </svg>`,
        'bumper': `<svg width="136" height="136" viewBox="0 0 136 136" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M130.775 34.0681C129.262 31.3305 125.383 31.1034 123.574 33.6829C118.838 40.4324 110.503 44.624 101.822 44.624H33.822C25.4575 44.624 17.0558 40.3315 12.418 33.6909C10.731 31.2801 7.20508 31.2928 5.50906 33.6085C1.90453 38.512 0 44.3238 0 50.4093V70.124C0 88.8718 15.2522 104.124 34 104.124H102C120.748 104.124 136 88.8718 136 70.124V54.3353C136 47.2643 134.194 40.2571 130.775 34.0681ZM19.125 59.499H27.625C33.4897 59.499 38.25 64.2587 38.25 70.124C38.25 72.4721 36.3481 74.374 34 74.374H21.25C16.554 74.374 12.75 70.5705 12.75 65.874C12.75 62.3545 15.6055 59.499 19.125 59.499ZM51 76.499C48.6519 76.499 46.75 74.5971 46.75 72.249C46.75 69.9009 48.6519 67.999 51 67.999H85C87.3481 67.999 89.25 69.9009 89.25 72.249C89.25 74.5971 87.3481 76.499 85 76.499H51ZM82.875 84.999C82.875 87.3471 80.9731 89.249 78.625 89.249H57.375C55.0269 89.249 53.125 87.3471 53.125 84.999C53.125 82.6509 55.0269 80.749 57.375 80.749H78.625C80.9731 80.749 82.875 82.6509 82.875 84.999ZM31.875 87.124C31.875 84.7759 33.7769 82.874 36.125 82.874H38.25C40.5981 82.874 42.5 84.7759 42.5 87.124C42.5 89.4721 40.5981 91.374 38.25 91.374H36.125C33.7769 91.374 31.875 89.4721 31.875 87.124ZM97.75 91.374C95.4019 91.374 93.5 89.4721 93.5 87.124C93.5 84.7759 95.4019 82.874 97.75 82.874H99.875C102.223 82.874 104.125 84.7759 104.125 87.124C104.125 89.4721 102.223 91.374 99.875 91.374H97.75ZM114.75 74.374H102C99.6519 74.374 97.75 72.4721 97.75 70.124C97.75 64.2593 102.51 59.499 108.375 59.499H116.875C120.395 59.499 123.25 62.3545 123.25 65.874C123.25 70.57 119.447 74.374 114.75 74.374Z" fill="currentColor" />
        </svg>`,
        'cart': `<svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M146.566 358.056C128.041 357.11 128.39 331.072 146.565 330.168C198.048 330.347 333.838 330.216 386.958 330.253C401.487 330.253 413.917 320.373 417.185 306.227L447.348 175.696C449.076 168.223 447.332 160.487 442.566 154.475C437.8 148.463 430.666 144.966 422.991 144.966C401.621 144.966 220.227 144.145 127.318 143.775L112.59 89.1645C109.055 76.114 97.1375 67 83.6087 67H36.4285C29.5646 67 24 72.561 24 79.4203C24 86.2797 29.5646 91.8407 36.4285 91.8407H83.6087C85.9377 91.8407 87.9884 93.4098 88.5941 95.643L145.156 305.361C135.211 305.722 125.948 309.765 118.923 316.887C111.542 324.373 107.578 334.281 107.761 344.788C108.128 365.8 125.535 382.896 146.566 382.896H164.688C161.994 388.546 160.482 394.863 160.482 401.527C160.482 425.498 179.996 445 203.983 445C227.97 445 247.485 425.498 247.485 401.527C247.485 394.862 245.972 388.546 243.278 382.896H321.757C319.065 388.545 317.553 394.858 317.553 401.52C317.553 425.492 337.068 444.993 361.055 444.993C385.042 444.993 404.557 425.491 404.557 401.52C404.557 394.599 402.921 388.054 400.029 382.24C404.948 380.585 408.494 375.949 408.494 370.476C408.494 363.617 402.929 358.056 396.066 358.056H146.566ZM222.627 401.528C222.627 411.802 214.263 420.16 203.983 420.16C193.702 420.16 185.338 411.802 185.338 401.528C185.338 391.26 193.694 382.905 203.967 382.897H203.998C214.272 382.905 222.627 391.26 222.627 401.528ZM361.055 420.153C350.775 420.153 342.411 411.795 342.411 401.521C342.411 391.349 350.612 383.06 360.753 382.897H361.359C371.5 383.06 379.701 391.349 379.701 401.521C379.701 411.795 371.336 420.153 361.055 420.153ZM423.082 169.898C423.156 169.99 423.145 170.034 423.129 170.105L410.42 225.107H367.382L374.711 169.61L422.891 169.804C422.965 169.806 423.009 169.806 423.082 169.898ZM294.948 305.412V249.948H339.03L331.705 305.412H294.948ZM233.318 305.412L225.934 249.948H270.091V305.412H233.318ZM176.103 305.412H176.064C173.035 305.411 170.366 303.369 169.578 300.46L155.955 249.948H200.857L208.241 305.412H176.103ZM222.626 225.108L215.152 168.969L270.091 169.19V225.108H222.626ZM294.948 225.108V169.29L349.652 169.51L342.31 225.108H294.948ZM190.062 168.867L197.55 225.107H149.255L134.026 168.641L190.062 168.867ZM386.958 305.412H356.777L364.101 249.948H404.679L392.965 300.637C392.316 303.449 389.846 305.412 386.958 305.412Z" fill="currentColor" />
        </svg>`,
        'checkmark': `<svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M480.08 97.8085C465.538 83.2468 441.923 83.2559 427.362 97.8085L190.092 335.088L84.6353 229.632C70.0736 215.071 46.4693 215.071 31.9076 229.632C17.3459 244.194 17.3459 267.798 31.9076 282.36L163.722 414.175C170.998 421.451 180.54 425.098 190.081 425.098C199.623 425.098 209.174 421.46 216.45 414.175L480.08 150.535C494.642 135.984 494.642 112.369 480.08 97.8085Z" fill="currentColor" />
        </svg>`,
        'close': `<svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M402 108L106.5 403.5M402 403.5L106.5 108" stroke="currentColor" stroke-width="28" stroke-linecap="round" />
        </svg>`,
    };

    async function loadIncludes() {
        let tasks = [];

        tasks.push(include('/m-tuning/data/categories.js'));
        tasks.push(include('/m-tuning/data/items.js'));

        await Promise.all(tasks);
        await new Promise(resolve => setTimeout(resolve, 100));
        finishIncludes('tuning');
    }

    tuning_showConfirmation = async (message) => {
        let confirmation = document.querySelector('#tuning #confirmation');
        confirmation.querySelector('#message').innerHTML = message;
        confirmation.classList.add('active');

        return new Promise(resolve => {
            confirmation.querySelector('#confirm').onclick = () => {
                confirmation.classList.remove('active');
                resolve(true);
            };
            confirmation.querySelector('#cancel').onclick = () => {
                confirmation.classList.remove('active');
                resolve(false);
            };
        });
    };

    tuning_exitGarage = () => {
        mta.triggerEvent('tuning:exitGarage');
    }

    loadIncludes();

    addEvent('tuning', 'play-animation', async (appear) => {
        await new Promise(resolve => setTimeout(resolve, 100));
        document.querySelector('#tuning').style.opacity = appear ? '1' : '0';
        document.querySelector('#tuning').style.transform = appear ? 'scale(1)' : 'scale(0.9)';
    });
</script>