<style>
    #inventory-wrapper {
        position: absolute;
        left: 1.5rem;
        top: 50%;
        background: rgba(26, 26, 26, 0.9);
        border: 0.0625rem solid rgba(54, 54, 54, 0.45);
        border-radius: 0.625rem;
        display: flex;
        flex-direction: column;
        color: #fff;
        width: 21rem;
        padding: 1rem;
        opacity: 0;
        transform: translateY(-50%) scale(0.8);
        transition: opacity 0.2s, transform 0.2s;
    }

    #inventory .top {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-radius: 0.625rem 0.625rem 0 0;
    }

    #inventory .top .title {
        font-size: 1rem;
        font-weight: 500;
        color: #ffffffee;
    }

    #inventory .items {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 0.5rem;
        margin-top: 1rem;
        max-height: 20rem;
        overflow-y: auto;
    }

    #inventory .items-small {
        max-height: 10rem;
    }

    #inventory .item {
        background: rgba(87, 87, 87, 0.1);
        border-radius: 0.625rem;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        --rarity-color: #bebebe;
        --rarity-color-dark: #bebebe;
        aspect-ratio: 1/1;
    }

    #inventory .item img {
        width: 70%;
        height: 70%;
        object-fit: contain;
    }

    #inventory .item .count {
        position: absolute;
        bottom: 0.25rem;
        right: 0.25rem;
        background: rgba(0, 0, 0, 0.5);
        padding: 0.1rem 0.25rem;
        border-radius: 0.25rem;
        font-size: 0.7rem;
    }

    #inventory .item:not(.empty) {
        /* background: linear-gradient(rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.1)); */
        background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
        border: 0.0625rem solid rgba(54, 54, 54, 0.6);
        background-size: 100% 100% !important;
        background-position: 0% 0% !important;
        transition: 0.3s;
    }

    /* rarities */
    /* green - uncommon */
    #inventory .item.uncommon {
        /* background: linear-gradient(rgba(74, 255, 39, 0.05), rgba(74, 255, 39, 0.2)); */
        background: radial-gradient(circle at 50% 50%, rgba(132, 220, 95, 0.3), rgba(48, 119, 47, 0.2));
        border: 0.0625rem solid rgba(74, 255, 39, 0.05);
        --rarity-color: rgb(74, 255, 39);
        --rarity-color-dark: rgb(132, 220, 95);
    }

    /* blueuish-cyan - rare */
    #inventory .item.rare {
        background: radial-gradient(circle at 50% 50%, rgba(130, 201, 255, 0.302), rgba(46, 141, 244, 0.15));
        border: 0.0625rem solid rgba(39, 255, 255, 0.05);
        --rarity-color: rgb(39, 255, 255);
        --rarity-color-dark: rgb(130, 201, 255);
    }

    /* purplish pink - epic */
    #inventory .item.epic {
        background: radial-gradient(circle at 50% 50%, rgba(188, 111, 229, 0.35), rgba(84, 57, 141, 0.3));
        border: 0.0625rem solid rgba(255, 39, 255, 0.05);
        --rarity-color: rgb(255, 39, 255);
        --rarity-color-dark: rgb(188, 111, 229);
    }

    /* orange - legendary */
    #inventory .item.legendary {
        background: radial-gradient(circle at 50% 50%, rgba(255, 174, 81, 0.35), rgba(175, 75, 0, 0.14));
        border: 0.0625rem solid rgba(255, 39, 39, 0.05);
        --rarity-color: rgb(255, 123, 0);
        --rarity-color-dark: rgb(255, 174, 81);
    }

    /* gold - mythic */
    #inventory .item.mythic {
        background: radial-gradient(circle at 50% 50%, rgba(236, 200, 95, 0.4), rgba(149, 114, 35, 0.14));
        border: 0.0625rem solid rgba(255, 255, 39, 0.05);
        --rarity-color: rgb(255, 255, 39);
        --rarity-color-dark: rgb(236, 200, 95);
    }

    /* cyan green exotic */
    #inventory .item.exotic {
        background: radial-gradient(circle at 50% 50%, rgba(101, 244, 208, 0.35), rgba(78, 117, 184, 0.14));
        border: 0.0625rem solid rgba(39, 255, 39, 0.05);
        --rarity-color: rgb(39, 255, 107);
        --rarity-color-dark: rgb(101, 244, 177);
    }
      
    /* red - divine */
    #inventory .item.divine {
        background: radial-gradient(circle at 50% 50%, rgba(255, 39, 39, 0.35), rgba(255, 39, 39, 0.14));
        border: 0.0625rem solid rgba(255, 39, 39, 0.05);
        --rarity-color: rgb(255, 39, 39);
        --rarity-color-dark: rgb(255, 39, 39);
    }
    
    #inventory .item:not(.empty):hover {
        background-size: 150% 150% !important;
        background-position: 25% 25% !important;
    }

    #inventory .categories {
        display: flex;
        justify-content: center;
        gap: 0.5rem;
    }

    #inventory .category {
        background: rgba(87, 87, 87, 0.2);
        border: 0.0625rem solid rgba(54, 54, 54, 0.45);
        border-radius: 0.625rem;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        width: 2rem;
        height: 2rem;
        transition: 0.2s;
        color: #ffffff73;
    }
    
    #inventory .category svg {
        width: 1rem;
        height: 1rem;
    }
    
    #inventory .category:hover {
        background: rgba(87, 87, 87, 0.3);
        color: #ffffffaa;
    }

    #inventory .category.active {
        background: rgba(135, 135, 135, 0.3);
        border: 0.0625rem solid rgba(54, 54, 54, 0.45);
        color: #ffffff;
    }

    #inventory #inventory-tooltip {
        position: absolute;
        background: rgba(33, 33, 33, 0.9);
        border: 0.0625rem solid rgba(54, 54, 54, 0.45);
        border-radius: 0.625rem;
        padding: 0.5rem;
        color: #fff;
        font-size: 0.8rem;
        max-width: 14rem;
        opacity: 0;
        display: none;
        transition: opacity 0.2s, left 0.2s, top 0.2s;
        transform: translate(-50%, -100%);
    }

    #inventory #inventory-tooltip .title {
        font-size: 1rem;
        font-weight: 800;
        margin-bottom: 0.2rem;
        background-image: linear-gradient(90deg, #ddd 0.01%, #ccc 21.88%, #ddd 44.06%, #ccc 70%, #ddd 100%);
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
        background-size: 200% 200%;
        position: relative;
        z-index: 1;
        animation: gradient 3s linear infinite;
    }

    #inventory #inventory-tooltip .title::before {
        content: attr(data-text);
        position: absolute;
        top: 0;
        left: 0;
        background: inherit;
        filter: blur(0.5rem);
        opacity: 0.5;
        z-index: 0;
    }

    #inventory #inventory-tooltip .description {
        font-size: 0.9rem;
        color: #ffffffdd;
        font-weight: 400;
    }

    #inventory #inventory-tooltip .title.uncommon {
        background-image: linear-gradient(90deg, #84dc5f 0.01%, #70d695 21.88%, #77d670 44.06%, #70d695 70%, #84dc5f 100%);
    }

    #inventory #inventory-tooltip .title.rare {
        background-image: linear-gradient(90deg, #45aeff 0.01%, #419af8 21.88%, #3b94f4 44.06%, #51aff7 70%, #45aeff 100%);
    }

    #inventory #inventory-tooltip .title.epic {
        background-image: linear-gradient(90deg, #b86fe5 0.01%, #ad50ca 21.88%, #b86fe5 44.06%, #ba68d3 70%, #b86fe5 100%);
    }

    #inventory #inventory-tooltip .title.legendary {
        background-image: linear-gradient(90deg, #ffab48 0.01%, #ffb762 21.88%, #fc8c5b 44.06%, #dc604f 70%, #ffab48 100%);
    }

    #inventory #inventory-tooltip .title.mythic {
        background-image: linear-gradient(90deg, #ecb95f 0.01%, #ecb95f 21.88%, #ecb95f 44.06%, #ecb95f 70%, #ecb95f 100%);
    }

    #inventory #inventory-tooltip .title.exotic {
        background-image: linear-gradient(90deg, #65f4d0 0.01%, #4e75b8 21.88%, #65f4d0 44.06%, #4e75b8 70%, #65f4d0 100%);
    }

    #inventory #inventory-tooltip .title.divine {
        background-image: linear-gradient(90deg, #ff0000 0.01%, #cd0000 21.88%, #ff3d3d 44.06%, #cd0000 70%, #ff0000 100%);
    }

    #inventory #inventory-options {
        position: absolute;
        display: flex;
        flex-direction: column;
        gap: 0.12rem;
        background: rgba(33, 33, 33, 0.9);
        border: 0.0625rem solid rgba(54, 54, 54, 0.45);
        border-radius: 0.425rem;
        overflow: hidden;
        color: #fff;
        left: 50%;
        top: 50%;
        font-size: 0.8rem;
        padding: 0.04rem;
        opacity: 0;
        display: none;
        transition: opacity 0.2s;
    }

    #inventory #inventory-options .option {
        padding: 0.5rem 0.7rem;
        background: rgba(87, 87, 87, 0.2);
        display: flex;
        gap: 0.5rem;
        align-items: center;
        color: #ffffffbb;
        transition: 0.1s;
    }

    #inventory #inventory-options .option:hover {
        background: rgba(87, 87, 87, 0.4);
        color: #ffffff;
    }

    #inventory #inventory-options .option:first-child {
        border-radius: 0.325rem 0.325rem 0 0;
    }

    #inventory #inventory-options .option:last-child {
        border-radius: 0 0 0.325rem 0.325rem;
    }

    #inventory #inventory-options .option svg {
        width: 0.9rem;
        height: 0.9rem;
    }

    #inventory:has(#inventory-options.show) #inventory-tooltip {
        display: none !important;
    }

    #inventory .status {
        width: 0.6rem;
        height: 0.6rem;
        border-radius: 50%;
        background: #ff0000;
    }

    #inventory .status.active {
        background: #00ff00;
    }

    #inventory #accepted-timer {
        font-size: 0.8rem;
        font-weight: 700;
        color: #ff0000;
        text-align: center;
        animation: blink-danger 1.2s infinite;
    }

    #inventory #player-list {
        display: flex;
        gap: 0.5rem;
    }

    #inventory #player-list .player {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.5rem 0.7rem;
        background: rgba(87, 87, 87, 0.2);
        border-radius: 0.625rem;
        color: #ffffffbb;
        margin-left: 0rem;
    }

    #inventory .progress {
        width: 100%;
        height: 0.5rem;
        background: rgba(90, 90, 90, 0.615);
        margin-top: 0.5rem;
        margin-bottom: 0.2rem;
        border-radius: 0.25rem;
    }

    #inventory .progress .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #ffab48, #fc8c5b 100%);
        border-radius: 0.25rem;
        transition: width 10s cubic-bezier(0.2, 0.2, 0.2, 0.2);
        box-shadow: 0 0 1rem 0.5rem #ffaa4822;
    }

    #inventory .progress .colored-progress-bar {
        height: 100%;
        background: linear-gradient(90deg, var(--rarity-color), var(--rarity-color-dark) 50%, var(--rarity-color) 100%);
        background-size: 200% 100%;
        background-position: 0% 0;
        border-radius: 0.25rem;
        transition: width 10s cubic-bezier(0.2, 0.2, 0.2, 0.2);
        box-shadow: 0 0 1rem 0.5rem color-mix(in srgb, var(--rarity-color) 20%, transparent 80%);
        animation: gradient-progress 1s linear infinite;
    }

    #inventory .label {
        font-size: 0.8rem;
        color: #ffffff99;
    }

    #inventory .input {
        padding: 0.475rem 0.5rem;
        border-radius: 0.625rem;
        border: none;
        background: rgba(62, 62, 62, 0.35);
        color: #ffffffcd;

    }

    #inventory .input::-webkit-inner-spin-button,
    #inventory .input::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    @keyframes gradient {
        0% {
            background-position: 0% 50%;
        }

        50% {
            background-position: 200% 50%;
        }

        100% {
            background-position: 0% 50%;
        }
    }

    @keyframes blink-danger {
        0% {
            color: #ff0000;
        }

        50% {
            color: rgb(255, 99, 99)
        }

        100% {
            color: #ff0000;
        }
    }

    @keyframes gradient-progress {
        0% {
            background-position: 0% 0%;
        }

        50% {
            background-position: 100% 0%;
        }

        100% {
            background-position: 200% 0%;
        }
    }
</style>

<div id="inventory-wrapper" class="nice-scroll">
    <div class="top">
        <span class="title" id="main-tab-title">Twoje przedmioty</span>
    </div>

    <div id="items-loading" class="pt-4 pb-3 d-flex justify-center align-items-center gap-2 d-none">
        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z"><animateTransform attributeName="transform" dur="0.75s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></svg>
        Wczytywanie...
    </div>
    
    <div id="items-wrapper">
        <div class="items pr-2"></div>
    </div>

    <div id="players-wrapper" class="d-none mt-2">
        <div id="player-list"></div>
    </div>

    <div class="d-flex justify-center mt-2">
        <div class="categories"> </div>
    </div>

    <div id="trade-wrapper" class="d-none">
        <div id="your-offer-wrapper">
            <div class="top mt-2">
                <span class="title">Twoja oferta</span>
            </div>
            
            <div class="items items-small pr-2">elo</div>
        </div>
    
        <div id="their-offer-wrapper">
            <div class="top mt-2">
                <span class="title"></span>
            </div>
            
            <div class="items items-small pr-2"></div>
        </div>

        <div class="d-flex justify-between align-items-center mt-2">
            <div class="d-flex align-items-center gap-2">
                <div class="status"></div>
                <span id="trade-1"></span>
            </div>
            <div class="d-flex align-items-center gap-2">
                <span id="trade-2"></span>
                <div class="status"></div>
            </div>
        </div>

        <div id="accepted-timer" class="mt-2 d-none">
            Finalizacja wymiany za 14 sekund...
        </div>

        <div class="d-flex justify-center gap-2 align-items-center mt-2">
            <div class="flat-button flat-button-small" onclick="inventory_acceptTrading()" id="accept-button">Zatwierdź</div>
            <div class="flat-button flat-button-small" onclick="inventory_cancelTrading()">Anuluj</div>
        </div>
    </div>
</div>

<div id="inventory-tooltip">
    <div class="title" data-text="M4 jakas bronka">M4 jakas bronka</div>
    <div class="description">M4 to karabin szturmowy, który jest używany przez wiele jednostek specjalnych na całym świecie.</div>
</div>

<div id="inventory-options"></div>

<script>
    window.inventory_icons = {
        star: `<svg height="800px" width="800px" version="1.1" viewBox="0 0 47.94 47.94" xml:space="preserve">
            <path fill="currentColor" d="M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,1.412l12.091,1.757 c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042 c0.362,2.109-1.852,3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685 c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692-0.742-2.285l-8.749-8.528 c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841-0.122,1.568-0.65,1.944-1.412l5.407-10.956 C22.602,0.567,25.338,0.567,26.285,2.486z"/>
        </svg>`,
        food: `<svg width="266" height="265" viewBox="0 0 266 265" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M4.5024 162L163.002 2.99985C153.169 -0.666812 128.702 -3.70015 109.502 13.4999C90.3024 30.6999 31.5024 87 12.0024 111C-7.4976 135 4.5024 162 4.5024 162ZM82.5011 226.5C80.5011 237.3 85.3345 248.333 88.0011 252.5C75.9998 264.5 33.5014 273.5 11.0015 240.5C-6.99855 214.1 5.50145 185.833 14.0015 175C60.1681 129 156.501 32.8 172.501 16C192.501 -5.00002 241.001 -6.50002 257.501 26.5C270.701 52.9 260.335 77.5001 253.501 86.5001C250.668 84.3334 242.601 80.1001 233.001 80.5001C221.001 81.0001 214.001 84.5001 206.001 91.5001C198.001 98.5001 112.001 185.5 101.501 196.5C100.822 197.212 100.162 197.9 99.5198 198.57L99.5136 198.576C90.2373 208.248 84.8389 213.876 82.5011 226.5ZM216.002 103.5L105.502 213C94.2001 224.2 96.4598 236 99.0024 240.5C102.669 247.667 115.402 262.4 137.002 264C158.602 265.6 173.669 255.667 178.502 250.5L248.002 180.5C252.669 177.833 262.602 166.8 265.002 144C268.002 115.5 245.002 96.4999 233.502 96.4999C224.302 96.4999 218.002 101.167 216.002 103.5ZM222.157 44.1569C225.281 41.0327 225.281 35.9673 222.157 32.8431C219.033 29.719 213.967 29.719 210.843 32.8431C208.61 35.076 206.816 35.1437 200.832 34.942C194.889 34.7417 186.103 34.583 177.843 42.8431C169.65 51.0363 169.746 60.0488 169.811 66.0718L169.813 66.2717C169.877 72.37 169.731 74.955 166.843 77.8431C165.292 79.3945 164.182 79.7365 163.251 79.8695C161.865 80.0676 160.383 79.8884 157.316 79.5007C154.629 79.1609 150.683 78.669 146.4 79.5209C141.847 80.4266 137.486 82.7003 133.343 86.8431C129.199 90.9871 126.901 95.3671 125.79 99.8472C124.736 104.096 124.849 108.126 124.941 111.065C125.139 117.317 125.114 119.573 122.343 122.343C119.641 125.045 117.333 125.143 111.992 124.603C111.695 124.573 111.38 124.539 111.049 124.503L111.047 124.503C105.97 123.951 97.1902 122.996 89.8431 130.343C83.0809 137.105 82.7306 145.623 82.5057 151.093L82.5056 151.096C82.4866 151.556 82.4686 151.995 82.4476 152.409C82.1506 158.29 81.591 162.095 77.8431 165.843C75.9112 167.775 74.8266 167.732 68.7603 167.105C65.9751 166.817 62.0468 166.464 57.7763 167.42C53.2873 168.424 48.9584 170.727 44.8425 174.843C40.223 179.463 38.4466 185.006 38.0302 189.736C37.625 194.337 38.4568 198.548 39.5234 201.348C41.0963 205.477 45.7185 207.549 49.8473 205.976C53.9761 204.403 56.0481 199.781 54.4752 195.652C54.2085 194.952 53.7903 193.163 53.9685 191.139C54.1354 189.244 54.7756 187.537 56.1562 186.157C58.2903 184.023 59.9615 183.326 61.2694 183.034C62.796 182.692 64.4616 182.746 67.114 183.02C67.4455 183.054 67.7978 183.094 68.169 183.137C73.1817 183.706 81.645 184.669 89.1568 177.157C97.409 168.905 98.0993 159.71 98.4273 153.216C98.7828 146.177 98.9895 143.824 101.157 141.657C102.83 139.984 104.128 139.889 110.383 140.522C116.166 141.107 125.359 141.955 133.657 133.657C141.478 125.836 141.166 117.098 140.963 111.424C140.953 111.127 140.942 110.839 140.933 110.56C140.839 107.562 140.858 105.56 141.319 103.7C141.723 102.07 142.551 100.263 144.657 98.1569C146.764 96.0497 148.341 95.4484 149.522 95.2135C150.973 94.9247 152.559 95.0266 155.309 95.3743C155.507 95.3994 155.716 95.4266 155.935 95.4551C158.327 95.7667 161.874 96.2287 165.514 95.7087C169.943 95.076 174.208 93.1054 178.157 89.1569C185.998 81.316 185.89 72.4912 185.819 66.6935C185.816 66.4931 185.814 66.2963 185.812 66.1033C185.75 60.2506 185.941 57.3725 189.157 54.1569C192.397 50.917 195.111 50.7583 200.293 50.933C200.575 50.9425 200.868 50.9539 201.172 50.9658L201.173 50.9658C206.413 51.1701 214.816 51.4978 222.157 44.1569Z" fill="currentColor" />
        </svg>`,
        weapon: `<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M89.5 6.8H88.5V1.8L87.7 0.5H82.3L81.6 1.7H24.7H19.5C18.2 1.7 17.2 1.6 17.2 1.6L11.1 1C10.1 1 9.3 1.8 9.3 2.8C9.3 3.1 9.4 3.3 9.5 3.6V3.7C9.6 3.8 9.6 3.9 9.7 4C9.7 4 11 5.2 11.6 6.4C11.6 6.5 11.8 7.1 11.1 7.9L6.1 14C4.6 15.9 3.5 16.4 2.9 16.5C2.9 16.5 2.6 16.6 2.6 17.2V20.5C2.6 20.7 2.7 21 3.4 21H4.5C6.3 21 13.3 21.7 9.5 28.8L5 37C3.2 40.5 0 48.5 0 55.1V57.5C0 57.8 0.1 59.7 2.4 59.7H26.5C28.1 59.7 27.9 58.5 27.9 58.5V54.2C27.9 53.1 28.1 51.8 28.3 50.5C29.2 46.6 31.3 41.7 33.1 38.1C34.9 35.2 37.4 34.3 39.2 34.1H48.7C48.8 34.1 51 34.1 53.3 33C55.5 32 58.1 29.7 58.1 25V23C58.1 21.5 59.3 21.3 59.7 21.3H83H86.6H87.8L88.3 17.4L88.5 15.6H89.5C89.7 15.6 89.9 13.6 89.9 11.2C89.8 8.8 89.7 6.8 89.5 6.8ZM54.8 24.9C54.8 30.5 49.2 30.7 48.6 30.7H42.4C39.1 30.5 38.8 28.2 38.7 27.6C38.7 27.5 38.7 27.5 38.7 27.4C38.7 24.7 40.8 23.1 42.7 22.3C42.9 22.7 43.1 23.2 43.2 23.7C44 25.9 45.6 27.1 47.1 27.9C48.6 28.8 48.7 28.2 48.6 28C48.6 27.7 47.7 26.7 47.7 26.7C46.1 24.7 45.7 22.5 45.6 21.2C45.7 21.2 45.7 21.2 45.7 21.2H53.2C53.5 21.2 54.8 21.4 54.8 22.9C54.8 22.9 54.8 22.9 54.8 23V24.9Z" fill="currentColor" />
        </svg>`,
        target: `<svg height="800px" width="800px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 487.715 487.715" xml:space="preserve">
            <path fill="currentColor" d="M208.295,444.942v42.773h73.157v-43.138c82.968-15.444,148.265-81.026,163.303-164.14h41.943 v-73.157h-41.943c-15.038-83.115-80.335-148.688-163.303-164.14V0h-73.157v42.773C124.359,57.526,58.119,123.489,42.96,207.279 H1.016v73.157H42.96C58.119,364.225,124.359,430.189,208.295,444.942z M243.857,96.527c81.237,0,147.33,66.093,147.33,147.33 s-66.093,147.33-147.33,147.33s-147.33-66.093-147.33-147.33S162.62,96.527,243.857,96.527z"/>
        </svg>`,
        close: `<svg width="89" height="89" viewBox="0 0 89 89" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M70.5 19L18 71.5M18 19L70.5 71.5" stroke="currentColor" stroke-width="16" stroke-linecap="round" />
        </svg>`,
        add: `<svg width="89" height="89" viewBox="0 0 89 89" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M81.3731 45.2501H7.12689M44.25 8.12695V82.3732" stroke="currentColor" stroke-width="16" stroke-linecap="round" />
        </svg>`,
        trade: `<svg width="89" height="89" viewBox="0 0 89 89" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M77.5 27H10M10 27L27 10M10 27L27 44M77.5 62H10M77.5 62L60.5 45M77.5 62L60.5 79" stroke="currentColor" stroke-width="11" stroke-linecap="round" />
        </svg>`,
        fish: `<svg width="266" height="265" viewBox="0 0 266 265" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M199.879 35.0549C193.311 25.2108 189.521 16.0444 187.541 10.2966C220.497 -1.7734 252.999 -0.985921 266.306 0.0260336C266.896 7.78105 267.416 22.0442 265.376 39.0147C264.042 50.0837 261.455 63.4338 256.538 77.2705C232.606 69.7394 213.563 55.5528 199.879 35.0549ZM234.126 23.7942L221.957 11.631L209.789 23.7942L221.957 35.9626L234.126 23.7942Z" fill="currentColor" />
            <path d="M103.5 61.5C89.5005 88 83.3337 108 84.0004 118.5C52.4006 112.5 46.4995 89 46.5 74C73.5 18 112 6 162.5 3C152.667 7.66667 119.683 30.8686 103.5 61.5Z" fill="currentColor" />
            <path d="M57.3012 207.37C42.9448 211.947 24.1645 210.968 0.171867 197.509C24.6728 149.207 59.3188 152.302 79.6855 159.723C82.748 160.839 85.488 162.059 87.8234 163.207C92.018 165.28 94.9003 167.15 95.994 167.894C95.9721 147.489 97.908 128.676 101.747 111.837C111.728 68.0407 134.742 36.4571 170.143 17.9555C170.525 17.7529 170.903 17.556 171.28 17.3649L172.418 16.7686C172.423 16.7738 172.423 16.7847 172.423 16.7904C174.807 23.4788 178.975 33.1426 185.822 43.5393C196.662 59.9956 216.487 81.4123 250.192 92.4594C245.215 102.747 238.757 112.941 230.383 122.32C201.77 154.374 157.219 170.502 97.8476 170.322C98.9522 172.093 100.582 174.905 102.261 178.514C103.371 180.904 104.509 183.644 105.531 186.663C112.493 207.215 114.15 240.653 67.1551 264.497C53.6971 240.507 52.718 221.726 57.3012 207.37Z" fill="currentColor" />
        </svg>`
    };

    addEvent('inventory', 'mousedown', (event) => {
        if (!event.target.closest('#inventory-options'))
        inventory_hideOptions();
    });

    addEvent('inventory', 'interface:data:itemsData', (data) => {
        data = data[0];

        inventory_itemsData = data;
    });

    addEvent('inventory', 'interface:data:trading', (data) => {
        if (!data) {
            inventory_hideTrading();
            return;
        }

        data = data[0];

        inventory_renderCategories();
        inventory_renderItems();
        inventory_showTrade();
        inventory_updateTrade();

        document.querySelector('#inventory #their-offer-wrapper .title').textContent = `Oferta gracza ${data.otherName}`;
        document.querySelector('#inventory #trade-1').textContent = data.myName;
        document.querySelector('#inventory #trade-2').textContent = data.otherName;
    });

    addEvent('inventory', 'play-animation', async (appear) => {
        await new Promise(resolve => setTimeout(resolve, 100));
        document.querySelector('#inventory #inventory-wrapper').style.opacity = appear ? '1' : '0';
        document.querySelector('#inventory #inventory-wrapper').style.transform = appear ? 'translateY(-50%)' : 'translateY(-50%) scale(0.8)';
    });

    async function loadIncludes() {
        let tasks = [];

        tasks.push(include('/m-inventory/data/trade.js'));
        tasks.push(include('/m-inventory/data/player-list.js'));
        tasks.push(include('/m-inventory/data/tooltip.js'));
        tasks.push(include('/m-inventory/data/options.js'));
        tasks.push(include('/m-inventory/data/categories.js'));
        tasks.push(include('/m-inventory/data/items.js'));

        await Promise.all(tasks);
        await new Promise(resolve => setTimeout(resolve, 100));
        finishIncludes('inventory');
        inventory_loadPossibleOptions();
        inventory_renderCategories();
        inventory_renderItems();
        inventory_loadItems();
    }

    loadIncludes();
</script>